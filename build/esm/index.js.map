{"version":3,"sources":["../../src/index.js"],"names":["util","require","modifiers","logLevels","off","error","warn","info","debug","trace","logLevel","process","env","NODE_LOG_LEVEL","windowSize","width","stdout","columns","height","rows","logMeta","assert","labelStyle","textStyle","label","clear","count","countReset","dir","dirxml","group","groupCollapsed","groupEnd","log","profile","profileEnd","table","time","timeEnd","timeLog","timeStamp","wrap","style","styles","split","styling","reduce","acc","current","modifierType","Object","keys","push","msg","wrapper","format","addLog","meta","console","logs","beep","assertion","forEach","obj","showHidden","depth","colors","headerChars","char","message","maxLength","Math","max","length","repeat","module","exports"],"mappings":"AAAA;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,aAAD,CAAzB;;AAEA,MAAME,SAAS,GAAG;AAAEC,EAAAA,GAAG,EAAE,CAAP;AAAUC,EAAAA,KAAK,EAAE,CAAjB;AAAoBC,EAAAA,IAAI,EAAE,CAA1B;AAA6BC,EAAAA,IAAI,EAAE,CAAnC;AAAsCC,EAAAA,KAAK,EAAE,CAA7C;AAAgDC,EAAAA,KAAK,EAAE;AAAvD,CAAlB;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,cAAZ,IAA8B,CAA/C;AACA,MAAMC,UAAU,GAAG;AAAEC,EAAAA,KAAK,EAAEJ,OAAO,CAACK,MAAR,CAAeC,OAAf,IAA0B,CAAnC;AAAsCC,EAAAA,MAAM,EAAEP,OAAO,CAACK,MAAR,CAAeG,IAAf,IAAuB;AAArE,CAAnB;AACA,MAAMC,OAAO,GAAG;AACdC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,UAAU,EAAE,mBAAd;AAAmCC,IAAAA,SAAS,EAAE,aAA9C;AAA6Db,IAAAA,QAAQ,EAAEP,SAAS,CAACM,KAAjF;AAAwFe,IAAAA,KAAK,EAAE;AAA/F,GADM;AAEdC,EAAAA,KAAK,EAAE,EAFO;AAGdC,EAAAA,KAAK,EAAE;AAAEhB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAHO;AAIdoB,EAAAA,UAAU,EAAE;AAAEjB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAJE;AAKdC,EAAAA,KAAK,EAAE;AAAEc,IAAAA,UAAU,EAAE,cAAd;AAA8BC,IAAAA,SAAS,EAAE,MAAzC;AAAiDb,IAAAA,QAAQ,EAAEP,SAAS,CAACK,KAArE;AAA4EgB,IAAAA,KAAK,EAAE;AAAnF,GALO;AAMdI,EAAAA,GAAG,EAAE;AAAElB,IAAAA,QAAQ,EAAEP,SAAS,CAACK;AAAtB,GANS;AAOdqB,EAAAA,MAAM,EAAE;AAAEnB,IAAAA,QAAQ,EAAEP,SAAS,CAACK;AAAtB,GAPM;AAQdH,EAAAA,KAAK,EAAE;AAAEiB,IAAAA,UAAU,EAAE,aAAd;AAA6BC,IAAAA,SAAS,EAAE,KAAxC;AAA+Cb,IAAAA,QAAQ,EAAEP,SAAS,CAACE,KAAnE;AAA0EmB,IAAAA,KAAK,EAAE;AAAjF,GARO;AASdM,EAAAA,KAAK,EAAE;AAAEpB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GATO;AAUdwB,EAAAA,cAAc,EAAE;AAAErB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAVF;AAWdyB,EAAAA,QAAQ,EAAE;AAAEtB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAXI;AAYdA,EAAAA,IAAI,EAAE;AAAEe,IAAAA,UAAU,EAAE,cAAd;AAA8BC,IAAAA,SAAS,EAAE,MAAzC;AAAiDb,IAAAA,QAAQ,EAAEP,SAAS,CAACI,IAArE;AAA2EiB,IAAAA,KAAK,EAAE;AAAlF,GAZQ;AAadS,EAAAA,GAAG,EAAE;AAAEX,IAAAA,UAAU,EAAE,eAAd;AAA+BC,IAAAA,SAAS,EAAE,OAA1C;AAAmDb,IAAAA,QAAQ,EAAEP,SAAS,CAACI,IAAvE;AAA6EiB,IAAAA,KAAK,EAAE;AAApF,GAbS;AAcdU,EAAAA,OAAO,EAAE;AAAExB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAdK;AAed4B,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAfE;AAgBd6B,EAAAA,KAAK,EAAE;AAAE1B,IAAAA,QAAQ,EAAEP,SAAS,CAACI;AAAtB,GAhBO;AAiBd8B,EAAAA,IAAI,EAAE;AAAE3B,IAAAA,QAAQ,EAAEP,SAAS,CAACK;AAAtB,GAjBQ;AAkBd8B,EAAAA,OAAO,EAAE;AAAE5B,IAAAA,QAAQ,EAAEP,SAAS,CAACK;AAAtB,GAlBK;AAmBd+B,EAAAA,OAAO,EAAE;AAAE7B,IAAAA,QAAQ,EAAEP,SAAS,CAACK;AAAtB,GAnBK;AAoBdgC,EAAAA,SAAS,EAAE;AAAE9B,IAAAA,QAAQ,EAAEP,SAAS,CAACK;AAAtB,GApBG;AAqBdC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,QAAQ,EAAEP,SAAS,CAACM;AAAtB,GArBO;AAsBdH,EAAAA,IAAI,EAAE;AAAEgB,IAAAA,UAAU,EAAE,gBAAd;AAAgCC,IAAAA,SAAS,EAAE,QAA3C;AAAqDb,IAAAA,QAAQ,EAAEP,SAAS,CAACG,IAAzE;AAA+EkB,IAAAA,KAAK,EAAE;AAAtF;AAtBQ,CAAhB;;AAyBA,MAAMiB,IAAI,GAAGC,KAAK,IAAI;AACpB,QAAMC,MAAM,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAf;AAEA,QAAMC,OAAO,GAAGF,MAAM,CAACG,MAAP,CAAc,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAC9C,SAAK,MAAMC,YAAX,IAA2BC,MAAM,CAACC,IAAP,CAAYjD,SAAZ,CAA3B,EAAmD;AACjD,UAAIA,SAAS,CAAC+C,YAAD,CAAT,CAAwBD,OAAxB,CAAJ,EAAsC;AACpCD,QAAAA,GAAG,CAACK,IAAJ,CAASlD,SAAS,CAAC+C,YAAD,CAAT,CAAwBD,OAAxB,CAAT;AACA;AACD;AACF;;AAED,WAAOD,GAAP;AACD,GATe,EASb,EATa,CAAhB;AAWA,SAAO,CAAC,GAAGM,GAAJ,KAAY;AACjB,UAAMC,OAAO,GAAGT,OAAO,CAACC,MAAR,CAAe,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAC/CD,MAAAA,GAAG,GAAI,UAASC,OAAO,CAAC,CAAD,CAAI,IAAGD,GAAI,UAASC,OAAO,CAAC,CAAD,CAAI,GAAtD;AACA,aAAOD,GAAP;AACD,KAHe,EAGb,IAHa,CAAhB;AAKA,WAAO/C,IAAI,CAACuD,MAAL,CAAYD,OAAZ,EAAqBtD,IAAI,CAACuD,MAAL,CAAY,GAAGF,GAAf,CAArB,CAAP;AACD,GAPD;AAQD,CAtBD;;AAwBA,MAAMG,MAAM,GAAGR,OAAO,IAAI;AACxB,QAAMS,IAAI,GAAGrC,OAAO,CAAC4B,OAAD,CAApB;;AACA,MAAItC,QAAQ,IAAI+C,IAAI,CAAC/C,QAArB,EAA+B;AAC7B,WAAO,CAAC,GAAG2C,GAAJ,KAAY;AACjB,UAAI,CAACI,IAAI,CAACjC,KAAV,EAAiB;AACf,YAAIiC,IAAI,CAACnC,UAAT,EAAqB;AACnBoC,UAAAA,OAAO,CAACV,OAAD,CAAP,CAAiBP,IAAI,CAACgB,IAAI,CAACnC,UAAN,CAAJ,CAAuB,IAAGtB,IAAI,CAACuD,MAAL,CAAY,GAAGF,GAAf,CAAoB,GAA9C,CAAjB;AACD,SAFD,MAEO;AACLK,UAAAA,OAAO,CAACV,OAAD,CAAP,CAAiB,GAAGK,GAApB;AACD;AACF,OAND,MAMO;AACLK,QAAAA,OAAO,CAACV,OAAD,CAAP,CAAkB,GAAEP,IAAI,CAACgB,IAAI,CAACnC,UAAN,CAAJ,CAAuB,IAAGmC,IAAI,CAACjC,KAAM,IAArC,CAA0C,KAAIiB,IAAI,CAACgB,IAAI,CAAClC,SAAN,CAAJ,CAAqB,GAAG8B,GAAxB,CAA6B,EAA/F;AACD;AACF,KAVD;AAWD;;AAED,SAAO,MAAM,CAAE,CAAf;AACD,CAjBD;;AAmBA,MAAMM,IAAI,GAAG,EAAb;AAEAA,IAAI,CAACtC,MAAL,GAAcmC,MAAM,CAAC,QAAD,CAApB;AACAG,IAAI,CAAClC,KAAL,GAAa+B,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAACjC,KAAL,GAAa8B,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAAChC,UAAL,GAAkB6B,MAAM,CAAC,YAAD,CAAxB;AACAG,IAAI,CAACnD,KAAL,GAAagD,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAAC/B,GAAL,GAAW4B,MAAM,CAAC,KAAD,CAAjB;AACAG,IAAI,CAAC9B,MAAL,GAAc2B,MAAM,CAAC,QAAD,CAApB;AACAG,IAAI,CAACtD,KAAL,GAAamD,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAAC7B,KAAL,GAAa0B,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAAC5B,cAAL,GAAsByB,MAAM,CAAC,gBAAD,CAA5B;AACAG,IAAI,CAAC3B,QAAL,GAAgBwB,MAAM,CAAC,UAAD,CAAtB;AACAG,IAAI,CAACpD,IAAL,GAAYiD,MAAM,CAAC,MAAD,CAAlB;AACAG,IAAI,CAAC1B,GAAL,GAAWuB,MAAM,CAAC,KAAD,CAAjB;AACAG,IAAI,CAACzB,OAAL,GAAesB,MAAM,CAAC,SAAD,CAArB;AACAG,IAAI,CAACxB,UAAL,GAAkBqB,MAAM,CAAC,YAAD,CAAxB;AACAG,IAAI,CAACvB,KAAL,GAAaoB,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAACtB,IAAL,GAAYmB,MAAM,CAAC,MAAD,CAAlB;AACAG,IAAI,CAACrB,OAAL,GAAekB,MAAM,CAAC,SAAD,CAArB;AACAG,IAAI,CAACpB,OAAL,GAAeiB,MAAM,CAAC,SAAD,CAArB;AACAG,IAAI,CAACnB,SAAL,GAAiBgB,MAAM,CAAC,WAAD,CAAvB;AACAG,IAAI,CAAClD,KAAL,GAAa+C,MAAM,CAAC,OAAD,CAAnB;AACAG,IAAI,CAACrD,IAAL,GAAYkD,MAAM,CAAC,MAAD,CAAlB;;AAEAG,IAAI,CAACC,IAAL,GAAY,MAAMF,OAAO,CAACzB,GAAR,CAAY,MAAZ,CAAlB;;AAEA0B,IAAI,CAACtC,MAAL,GAAc,CAACwC,SAAD,EAAY,GAAGR,GAAf,KAAuB;AACnC,MAAI,CAACQ,SAAL,EAAgB;AACd,UAAM;AAAEvC,MAAAA,UAAF;AAAcE,MAAAA,KAAd;AAAqBD,MAAAA;AAArB,QAAmCH,OAAO,CAACC,MAAjD;;AACA,QAAI,OAAOgC,GAAG,GAAG,CAAH,CAAV,KAAoB,QAAxB,EAAkC;AAChCK,MAAAA,OAAO,CAACzB,GAAR,CAAa,GAAEQ,IAAI,CAACnB,UAAD,CAAJ,CAAkB,IAAGE,KAAM,GAA3B,CAA+B,KAAIiB,IAAI,CAAClB,SAAD,CAAJ,CAAgB,GAAG8B,GAAnB,CAAwB,EAA1E;AACD,KAFD,MAEO;AACLK,MAAAA,OAAO,CAACrD,KAAR,CAAe,GAAEoC,IAAI,CAACnB,UAAD,CAAJ,CAAkB,IAAGE,KAAM,GAA3B,CAA+B,EAAhD;AACA6B,MAAAA,GAAG,CAACS,OAAJ,CAAYC,GAAG,IAAI;AACjBL,QAAAA,OAAO,CAAC9B,GAAR,CAAYmC,GAAZ,EAAiB;AAAEC,UAAAA,UAAU,EAAE,IAAd;AAAoBC,UAAAA,KAAK,EAAE,CAA3B;AAA8BC,UAAAA,MAAM,EAAE;AAAtC,SAAjB;AACD,OAFD;AAGD;AACF;AACF,CAZD;;AAcAP,IAAI,CAACQ,WAAL,GAAmB,CAACC,IAAI,GAAG,GAAR,EAAa,GAAGf,GAAhB,KAAwB;AACzC,QAAMgB,OAAO,GAAGrE,IAAI,CAACuD,MAAL,CAAY,GAAGF,GAAf,CAAhB;AACA,QAAMiB,SAAS,GAAGC,IAAI,CAACC,GAAL,CAASH,OAAO,CAACI,MAAR,GAAiB,CAA1B,EAA6B3D,UAAU,CAACC,KAAX,GAAmB,CAAhD,CAAlB;AAEA2C,EAAAA,OAAO,CAACzB,GAAR,CAAa,KAAK,GAAEmC,IAAK,EAAR,CAAUM,MAAV,CAAiBJ,SAAjB,CAA4B,EAA7C;AACAZ,EAAAA,OAAO,CAACzB,GAAR,CAAa,OAAMoC,OAAQ,EAA3B;AACAX,EAAAA,OAAO,CAACzB,GAAR,CAAa,KAAK,GAAEmC,IAAK,EAAR,CAAUM,MAAV,CAAiBJ,SAAjB,CAA4B,EAA7C;AACD,CAPD;;AASAK,MAAM,CAACC,OAAP,GAAiBjB,IAAjB","sourcesContent":["/* eslint-disable no-console */\n\nconst util = require('util');\nconst modifiers = require('./styles.js');\n\nconst logLevels = { off: 0, error: 1, warn: 2, info: 3, debug: 4, trace: 5 };\nconst logLevel = process.env.NODE_LOG_LEVEL || 5;\nconst windowSize = { width: process.stdout.columns || 0, height: process.stdout.rows || 0 };\nconst logMeta = {\n  assert: { labelStyle: 'bgRedBright.white', textStyle: 'bgRedBright', logLevel: logLevels.trace, label: 'Assert' },\n  clear: {},\n  count: { logLevel: logLevels.info },\n  countReset: { logLevel: logLevels.info },\n  debug: { labelStyle: 'bgBlue.white', textStyle: 'blue', logLevel: logLevels.debug, label: 'Debug' },\n  dir: { logLevel: logLevels.debug },\n  dirxml: { logLevel: logLevels.debug },\n  error: { labelStyle: 'white.bgRed', textStyle: 'red', logLevel: logLevels.error, label: 'Error' },\n  group: { logLevel: logLevels.info },\n  groupCollapsed: { logLevel: logLevels.info },\n  groupEnd: { logLevel: logLevels.info },\n  info: { labelStyle: 'black.bgCyan', textStyle: 'cyan', logLevel: logLevels.info, label: 'Info' },\n  log: { labelStyle: 'black.bgWhite', textStyle: 'white', logLevel: logLevels.info, label: 'Log' },\n  profile: { logLevel: logLevels.info },\n  profileEnd: { logLevel: logLevels.info },\n  table: { logLevel: logLevels.info },\n  time: { logLevel: logLevels.debug },\n  timeEnd: { logLevel: logLevels.debug },\n  timeLog: { logLevel: logLevels.debug },\n  timeStamp: { logLevel: logLevels.debug },\n  trace: { logLevel: logLevels.trace },\n  warn: { labelStyle: 'black.bgYellow', textStyle: 'yellow', logLevel: logLevels.warn, label: 'Warn' }\n};\n\nconst wrap = style => {\n  const styles = style.split('.');\n\n  const styling = styles.reduce((acc, current) => {\n    for (const modifierType of Object.keys(modifiers)) {\n      if (modifiers[modifierType][current]) {\n        acc.push(modifiers[modifierType][current]);\n        break;\n      }\n    }\n\n    return acc;\n  }, []);\n\n  return (...msg) => {\n    const wrapper = styling.reduce((acc, current) => {\n      acc = `\\u001B[${current[0]}m${acc}\\u001B[${current[1]}m`;\n      return acc;\n    }, '%s');\n\n    return util.format(wrapper, util.format(...msg));\n  };\n};\n\nconst addLog = current => {\n  const meta = logMeta[current];\n  if (logLevel >= meta.logLevel) {\n    return (...msg) => {\n      if (!meta.label) {\n        if (meta.labelStyle) {\n          console[current](wrap(meta.labelStyle)(` ${util.format(...msg)} `));\n        } else {\n          console[current](...msg);\n        }\n      } else {\n        console[current](`${wrap(meta.labelStyle)(` ${meta.label}: `)}  ${wrap(meta.textStyle)(...msg)}`);\n      }\n    };\n  }\n\n  return () => {};\n};\n\nconst logs = {};\n\nlogs.assert = addLog('assert');\nlogs.clear = addLog('clear');\nlogs.count = addLog('count');\nlogs.countReset = addLog('countReset');\nlogs.debug = addLog('debug');\nlogs.dir = addLog('dir');\nlogs.dirxml = addLog('dirxml');\nlogs.error = addLog('error');\nlogs.group = addLog('group');\nlogs.groupCollapsed = addLog('groupCollapsed');\nlogs.groupEnd = addLog('groupEnd');\nlogs.info = addLog('info');\nlogs.log = addLog('log');\nlogs.profile = addLog('profile');\nlogs.profileEnd = addLog('profileEnd');\nlogs.table = addLog('table');\nlogs.time = addLog('time');\nlogs.timeEnd = addLog('timeEnd');\nlogs.timeLog = addLog('timeLog');\nlogs.timeStamp = addLog('timeStamp');\nlogs.trace = addLog('trace');\nlogs.warn = addLog('warn');\n\nlogs.beep = () => console.log('\\x07');\n\nlogs.assert = (assertion, ...msg) => {\n  if (!assertion) {\n    const { labelStyle, label, textStyle } = logMeta.assert;\n    if (typeof msg?.[0] === 'string') {\n      console.log(`${wrap(labelStyle)(` ${label} `)}  ${wrap(textStyle)(...msg)}`);\n    } else {\n      console.error(`${wrap(labelStyle)(` ${label} `)}`);\n      msg.forEach(obj => {\n        console.dir(obj, { showHidden: true, depth: 2, colors: true });\n      });\n    }\n  }\n};\n\nlogs.headerChars = (char = '=', ...msg) => {\n  const message = util.format(...msg);\n  const maxLength = Math.max(message.length + 3, windowSize.width - 3);\n\n  console.log(`# ${`${char}`.repeat(maxLength)}`);\n  console.log(`# - ${message}`);\n  console.log(`# ${`${char}`.repeat(maxLength)}`);\n};\n\nmodule.exports = logs;\n"],"file":"index.js"}