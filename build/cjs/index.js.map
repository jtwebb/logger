{"version":3,"sources":["../../src/index.js"],"names":["util","require","modifiers","logLevels","off","error","warn","info","debug","trace","logLevel","process","env","NODE_LOG_LEVEL","windowSize","width","stdout","columns","height","rows","logMeta","assert","labelStyle","textStyle","label","clear","count","countReset","dir","dirxml","group","groupCollapsed","groupEnd","log","profile","profileEnd","table","time","timeEnd","timeLog","timeStamp","wrap","style","styles","split","styling","reduce","acc","current","Object","keys","modifierType","push","wrapper","format","addLog","meta","console","logs","beep","assertion","msg","forEach","obj","showHidden","depth","colors","headerChars","char","message","maxLength","Math","max","length","repeat","module","exports"],"mappings":"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","sourcesContent":["/* eslint-disable no-console */\n\nconst util = require('util');\nconst modifiers = require('./styles.js');\n\nconst logLevels = { off: 0, error: 1, warn: 2, info: 3, debug: 4, trace: 5 };\nconst logLevel = process.env.NODE_LOG_LEVEL || 5;\nconst windowSize = { width: process.stdout.columns || 0, height: process.stdout.rows || 0 };\nconst logMeta = {\n  assert: { labelStyle: 'bgRedBright.white', textStyle: 'bgRedBright', logLevel: logLevels.trace, label: 'Assert' },\n  clear: {},\n  count: { logLevel: logLevels.info },\n  countReset: { logLevel: logLevels.info },\n  debug: { labelStyle: 'bgBlue.white', textStyle: 'blue', logLevel: logLevels.debug, label: 'Debug' },\n  dir: { logLevel: logLevels.debug },\n  dirxml: { logLevel: logLevels.debug },\n  error: { labelStyle: 'white.bgRed', textStyle: 'red', logLevel: logLevels.error, label: 'Error' },\n  group: { logLevel: logLevels.info },\n  groupCollapsed: { logLevel: logLevels.info },\n  groupEnd: { logLevel: logLevels.info },\n  info: { labelStyle: 'black.bgCyan', textStyle: 'cyan', logLevel: logLevels.info, label: 'Info' },\n  log: { labelStyle: 'black.bgWhite', textStyle: 'white', logLevel: logLevels.info, label: 'Log' },\n  profile: { logLevel: logLevels.info },\n  profileEnd: { logLevel: logLevels.info },\n  table: { logLevel: logLevels.info },\n  time: { logLevel: logLevels.debug },\n  timeEnd: { logLevel: logLevels.debug },\n  timeLog: { logLevel: logLevels.debug },\n  timeStamp: { logLevel: logLevels.debug },\n  trace: { logLevel: logLevels.trace },\n  warn: { labelStyle: 'black.bgYellow', textStyle: 'yellow', logLevel: logLevels.warn, label: 'Warn' }\n};\n\nconst wrap = style => {\n  const styles = style.split('.');\n\n  const styling = styles.reduce((acc, current) => {\n    for (const modifierType of Object.keys(modifiers)) {\n      if (modifiers[modifierType][current]) {\n        acc.push(modifiers[modifierType][current]);\n        break;\n      }\n    }\n\n    return acc;\n  }, []);\n\n  return (...msg) => {\n    const wrapper = styling.reduce((acc, current) => {\n      acc = `\\u001B[${current[0]}m${acc}\\u001B[${current[1]}m`;\n      return acc;\n    }, '%s');\n\n    return util.format(wrapper, util.format(...msg));\n  };\n};\n\nconst addLog = current => {\n  const meta = logMeta[current];\n  if (logLevel >= meta.logLevel) {\n    return (...msg) => {\n      if (!meta.label) {\n        if (meta.labelStyle) {\n          console[current](wrap(meta.labelStyle)(` ${util.format(...msg)} `));\n        } else {\n          console[current](...msg);\n        }\n      } else {\n        console[current](`${wrap(meta.labelStyle)(` ${meta.label}: `)}  ${wrap(meta.textStyle)(...msg)}`);\n      }\n    };\n  }\n\n  return () => {};\n};\n\nconst logs = {};\n\nlogs.assert = addLog('assert');\nlogs.clear = addLog('clear');\nlogs.count = addLog('count');\nlogs.countReset = addLog('countReset');\nlogs.debug = addLog('debug');\nlogs.dir = addLog('dir');\nlogs.dirxml = addLog('dirxml');\nlogs.error = addLog('error');\nlogs.group = addLog('group');\nlogs.groupCollapsed = addLog('groupCollapsed');\nlogs.groupEnd = addLog('groupEnd');\nlogs.info = addLog('info');\nlogs.log = addLog('log');\nlogs.profile = addLog('profile');\nlogs.profileEnd = addLog('profileEnd');\nlogs.table = addLog('table');\nlogs.time = addLog('time');\nlogs.timeEnd = addLog('timeEnd');\nlogs.timeLog = addLog('timeLog');\nlogs.timeStamp = addLog('timeStamp');\nlogs.trace = addLog('trace');\nlogs.warn = addLog('warn');\n\nlogs.beep = () => console.log('\\x07');\n\nlogs.assert = (assertion, ...msg) => {\n  if (!assertion) {\n    const { labelStyle, label, textStyle } = logMeta.assert;\n    if (typeof msg?.[0] === 'string') {\n      console.log(`${wrap(labelStyle)(` ${label} `)}  ${wrap(textStyle)(...msg)}`);\n    } else {\n      console.error(`${wrap(labelStyle)(` ${label} `)}`);\n      msg.forEach(obj => {\n        console.dir(obj, { showHidden: true, depth: 2, colors: true });\n      });\n    }\n  }\n};\n\nlogs.headerChars = (char = '=', ...msg) => {\n  const message = util.format(...msg);\n  const maxLength = Math.max(message.length + 3, windowSize.width - 3);\n\n  console.log(`# ${`${char}`.repeat(maxLength)}`);\n  console.log(`# - ${message}`);\n  console.log(`# ${`${char}`.repeat(maxLength)}`);\n};\n\nmodule.exports = logs;\n"],"file":"index.js"}