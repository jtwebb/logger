{"version":3,"file":"bundle.umd.js","sources":["../../src/index.js"],"sourcesContent":["/* eslint-disable no-console */\n\nconst util = require('util');\nconst modifiers = require('./styles.js');\n\nconst logLevels = { off: 0, error: 1, warn: 2, info: 3, debug: 4, trace: 5 };\nconst logLevel = process.env.NODE_LOG_LEVEL || 5;\nconst windowSize = { width: process.stdout.columns || 0, height: process.stdout.rows || 0 };\nconst logMeta = {\n  assert: { labelStyle: 'bgRedBright.white', textStyle: 'bgRedBright', logLevel: logLevels.trace, label: 'Assert' },\n  clear: {},\n  count: { logLevel: logLevels.info },\n  countReset: { logLevel: logLevels.info },\n  debug: { labelStyle: 'bgBlue.white', textStyle: 'blue', logLevel: logLevels.debug, label: 'Debug' },\n  dir: { logLevel: logLevels.debug },\n  dirxml: { logLevel: logLevels.debug },\n  error: { labelStyle: 'white.bgRed', textStyle: 'red', logLevel: logLevels.error, label: 'Error' },\n  group: { logLevel: logLevels.info },\n  groupCollapsed: { logLevel: logLevels.info },\n  groupEnd: { logLevel: logLevels.info },\n  info: { labelStyle: 'black.bgCyan', textStyle: 'cyan', logLevel: logLevels.info, label: 'Info' },\n  log: { labelStyle: 'black.bgWhite', textStyle: 'white', logLevel: logLevels.info, label: 'Log' },\n  profile: { logLevel: logLevels.info },\n  profileEnd: { logLevel: logLevels.info },\n  table: { logLevel: logLevels.info },\n  time: { logLevel: logLevels.debug },\n  timeEnd: { logLevel: logLevels.debug },\n  timeLog: { logLevel: logLevels.debug },\n  timeStamp: { logLevel: logLevels.debug },\n  trace: { logLevel: logLevels.trace },\n  warn: { labelStyle: 'black.bgYellow', textStyle: 'yellow', logLevel: logLevels.warn, label: 'Warn' }\n};\n\nconst wrap = style => {\n  const styles = style.split('.');\n\n  const styling = styles.reduce((acc, current) => {\n    for (const modifierType of Object.keys(modifiers)) {\n      if (modifiers[modifierType][current]) {\n        acc.push(modifiers[modifierType][current]);\n        break;\n      }\n    }\n\n    return acc;\n  }, []);\n\n  return (...msg) => {\n    const wrapper = styling.reduce((acc, current) => {\n      acc = `\\u001B[${current[0]}m${acc}\\u001B[${current[1]}m`;\n      return acc;\n    }, '%s');\n\n    return util.format(wrapper, util.format(...msg));\n  };\n};\n\nconst addLog = current => {\n  const meta = logMeta[current];\n  if (logLevel >= meta.logLevel) {\n    return (...msg) => {\n      if (!meta.label) {\n        if (meta.labelStyle) {\n          console[current](wrap(meta.labelStyle)(` ${util.format(...msg)} `));\n        } else {\n          console[current](...msg);\n        }\n      } else {\n        console[current](`${wrap(meta.labelStyle)(` ${meta.label}: `)}  ${wrap(meta.textStyle)(...msg)}`);\n      }\n    };\n  }\n\n  return () => {};\n};\n\nconst logs = {};\n\nlogs.assert = addLog('assert');\nlogs.clear = addLog('clear');\nlogs.count = addLog('count');\nlogs.countReset = addLog('countReset');\nlogs.debug = addLog('debug');\nlogs.dir = addLog('dir');\nlogs.dirxml = addLog('dirxml');\nlogs.error = addLog('error');\nlogs.group = addLog('group');\nlogs.groupCollapsed = addLog('groupCollapsed');\nlogs.groupEnd = addLog('groupEnd');\nlogs.info = addLog('info');\nlogs.log = addLog('log');\nlogs.profile = addLog('profile');\nlogs.profileEnd = addLog('profileEnd');\nlogs.table = addLog('table');\nlogs.time = addLog('time');\nlogs.timeEnd = addLog('timeEnd');\nlogs.timeLog = addLog('timeLog');\nlogs.timeStamp = addLog('timeStamp');\nlogs.trace = addLog('trace');\nlogs.warn = addLog('warn');\n\nlogs.beep = () => console.log('\\x07');\n\nlogs.assert = (assertion, ...msg) => {\n  if (!assertion) {\n    const { labelStyle, label, textStyle } = logMeta.assert;\n    if (typeof msg?.[0] === 'string') {\n      console.log(`${wrap(labelStyle)(` ${label} `)}  ${wrap(textStyle)(...msg)}`);\n    } else {\n      console.error(`${wrap(labelStyle)(` ${label} `)}`);\n      msg.forEach(obj => {\n        console.dir(obj, { showHidden: true, depth: 2, colors: true });\n      });\n    }\n  }\n};\n\nlogs.headerChars = (char = '=', ...msg) => {\n  const message = util.format(...msg);\n  const maxLength = Math.max(message.length + 3, windowSize.width - 3);\n\n  console.log(`# ${`${char}`.repeat(maxLength)}`);\n  console.log(`# - ${message}`);\n  console.log(`# ${`${char}`.repeat(maxLength)}`);\n};\n\nmodule.exports = logs;\n"],"names":["util","require","modifiers","logLevels","off","error","warn","info","debug","trace","logLevel","process","env","NODE_LOG_LEVEL","windowSize","width","stdout","columns","height","rows","logMeta","assert","labelStyle","textStyle","label","clear","count","countReset","dir","dirxml","group","groupCollapsed","groupEnd","log","profile","profileEnd","table","time","timeEnd","timeLog","timeStamp","wrap","style","styles","split","styling","reduce","acc","current","Object","keys","modifierType","push","wrapper","format","addLog","meta","console","logs","beep","assertion","msg","forEach","obj","showHidden","depth","colors","headerChars","char","message","maxLength","Math","max","length","repeat","module","exports"],"mappings":"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"}